function zeroWidthEncrypt(text, key) {
    // convert text to binary
    let binaryText = '';
    for (let i = 0; i < key.length; i++) {
        binaryText += key[i].charCodeAt(0).toString(2).padStart(8, '0');
    }
    // convert binary to encrypted text
    let encryptedText = '';
    for (let i = 0; i < binaryText.length; i++) {
        encryptedText += binaryText[i] === '1' ? '\u200B' : '\u200C';
    }
    return text + encryptedText;
}


function zeroWidthDecrypt(encryptedText) {
    // decode encrypted text to binary
    let binaryText = '';
    let text = '';
    for (let i = 0; i < encryptedText.length; i++) {
        if (encryptedText[i].charCodeAt(0) === 0x200B) {
            binaryText += '1';
        } else if (encryptedText[i].charCodeAt(0) === 0x200C) {
            binaryText += '0';
        } else {
            text += encryptedText[i];
        }
    }
    // decode binary text to original text
    let decryptedText = '';
    for (let i = 0; i < binaryText.length; i += 8) {
        decryptedText += String.fromCharCode(parseInt(binaryText.substr(i, 8), 2));
    }
    // Chinese character will get wrong
    return decryptedText;

}

// XOR encryption
function xorEncrypt(text, key) {
    let keyLength = key.length;
    let encryptedText = '';
    for (let i = 0; i < text.length; i++) {
        let charCode = text.charCodeAt(i);
        let keyCharCode = key.charCodeAt(i % keyLength);
        encryptedText += String.fromCharCode(charCode ^ keyCharCode);
    }
    return encryptedText;
}

function xorDecrypt(encryptedText, key) {
    // XOR is symmetric, so the zeroWidthDecrypt function is the same as the encrypt function
    return xorEncrypt(encryptedText, key);
}

// base64 encryption
function base64Encrypt(text) {
    return btoa(text);
}
function base64Decrypt(encryptedText) {
    return atob(encryptedText);
}

// console.log(zeroWidthDecrypt('零宽字符藏个彩蛋。‌​‌​‌‌​‌‌​​‌‌​‌​‌​​‌‌‌​​‌​​‌‌​‌​‌​​‌​​​‌‌​​​‌​‌‌‌​​‌​​‌‌‌​​​​‌‌​‌‌​‌​​‌‌‌‌​‌‌‌‌‌‌​​‌​‌‌​‌​​‌​​​‌‌​​‌‌​​‌‌​​‌​​‌‌‌​​​‌​‌​‌​​‌‌​‌​‌​​‌​​​‌‌​​‌‌‌​​‌​​‌‌​‌​‌​​‌‌​‌‌‌‌​‌‌‌‌‌‌​​‌‌‌​‌‌​​​​‌‌​‌‌​‌‌‌‌‌‌​​​‌​‌‌‌​​‌​‌‌‌‌​​‌‌​‌​‌‌​‌‌‌‌‌‌​​​‌‌​​‌​​​‌​​​‌​​‌‌​‌​‌​​‌‌​‌​‌​​​‌​‌‌‌‌​‌‌‌‌‌‌​​‌‌​​‌‌​​​‌‌​‌‌​​‌‌‌‌​‌​​‌‌​​​‌​​​‌‌​‌‌​​‌‌‌‌​‌​​‌​​​‌‌​​‌‌‌​​‌​​‌‌​‌​‌‌​‌‌‌‌‌‌​​‌​​​​‌​​‌‌​​‌‌‌​‌‌‌‌‌‌​​‌​​​​‌​​​‌‌​​‌​​‌​​‌​‌​​‌‌‌‌​‌​​‌​​​‌‌​​​‌​‌‌‌​​‌​‌‌‌‌​​​‌​‌​‌​​​‌‌​​‌‌​‌​​‌‌‌‌​‌‌‌‌‌‌​​‌​​‌​‌​​​​‌‌​‌‌​‌‌‌‌‌‌​​‌‌​‌‌‌​​‌‌​‌​‌​​​‌‌​​‌​​‌​‌‌​‌​​​‌‌​‌‌​​‌‌​‌​‌‌​‌‌‌‌‌‌​​​‌​‌‌‌​​‌​​​​‌‌​‌‌‌‌‌‌​​‌​​‌‌‌​​‌​​​​‌​​​‌​​‌‌​​‌‌​‌​‌‌​‌‌‌‌‌‌​​‌​‌‌‌‌​​‌‌​‌​‌​​​‌‌​‌‌‌​‌‌‌‌‌‌​​‌​‌‌‌‌​​‌‌‌‌​‌​​​‌‌​​‌‌​‌‌‌‌‌‌​​‌‌​​​‌​​​‌‌​‌‌​​‌​​​​‌​​​‌​​​‌​​‌​​​‌‌‌​‌‌‌‌‌‌​​‌​‌‌​‌​​‌​​​‌‌​​​‌​‌‌‌​​‌‌​‌​‌​​‌​​​‌‌​​​‌‌​​‌​​‌‌​‌​‌​​‌​​‌‌‌​​​​‌‌​‌‌​‌​​‌‌‌‌​‌‌‌‌‌‌​​‌‌‌‌​‌​​‌​​​‌‌​​‌‌​‌‌‌‌​‌‌‌‌‌‌​​​‌​‌‌‌​​‌​‌‌‌‌​​‌​‌‌​‌​​​‌‌​​‌‌​‌‌‌‌‌‌​​‌‌​​‌‌​​‌‌​‌​‌​​‌‌​‌​‌​​‌​​‌‌‌​​‌​‌‌​‌​​‌​​​‌‌​​‌‌​​​‌‌​‌‌‌‌‌‌​​‌​​​​‌​​‌‌​​‌‌‌​‌‌‌‌‌‌​​‌​​‌‌‌​​‌​​​​‌​​​‌​​‌‌​​‌‌​‌​‌‌​‌‌‌‌‌‌​​​‌‌​​‌​​‌‌​‌​‌​​‌‌​‌​‌​​‌​​‌​‌​​​‌‌​​‌‌​‌‌‌‌‌‌​​​‌​‌‌‌​​‌​​​​‌‌​‌‌‌‌‌‌​​‌‌‌​‌‌​​‌‌​‌​‌‌​‌‌‌‌‌‌​​‌‌‌​​‌​​‌​​​​‌​​‌​​​‌‌​​​‌‌​​‌​​​‌​‌‌‌​​‌‌‌‌​‌​​‌​​​‌‌​​​‌​‌‌‌​​‌​​‌‌‌​​​​‌‌​‌‌​‌‌‌‌‌‌​​‌‌​​‌‌​​‌​​‌‌‌​​‌​​​​‌​​​‌​​​‌​​‌​‌‌​‌​​‌​​​‌‌​​‌‌​​​‌‌​‌‌‌‌‌‌​​‌‌​​‌‌​​​‌‌​‌‌​​‌​​​​‌​​‌​​‌​‌‌​‌‌‌‌‌‌​​‌​​‌​‌​​​​‌‌​‌‌​‌‌‌‌‌‌​​‌​‌‌‌‌​​‌‌​‌​‌​​‌‌‌‌​‌​​​‌‌​‌‌​​​‌​‌‌‌‌​‌​​‌‌‌‌​‌‌‌‌‌‌​​​‌‌​​‌​​​‌‌‌‌‌​​​‌‌​‌‌​​‌‌​‌​‌​​‌‌‌‌​‌​​‌‌​‌‌‌​​‌​‌‌​‌​​‌​​​‌‌​​‌‌​​​‌‌​‌‌‌‌‌‌​​​‌​‌‌‌​​‌​‌‌‌‌​​​‌‌​‌‌​​‌​​​​‌​​​‌​‌​‌​​‌‌​​​‌​​‌​‌‌‌‌​​‌​​​​‌​​​‌​‌​‌​​​‌​‌‌‌‌​‌‌‌‌‌‌​​‌​​‌​‌​​​​‌‌​‌‌​‌‌‌‌‌‌​​‌‌​‌​‌​​‌​​​‌‌​​​‌​‌‌‌​​‌​‌‌​‌​​​‌‌​‌‌​​‌‌​‌​‌‌​‌‌‌‌‌‌​​‌‌‌​‌‌​​‌‌​‌​‌​​‌​‌‌​‌​​‌​​​‌‌​​‌‌​​​‌‌​‌​​​‌\n'))
// console.log(zeroWidthDecrypt(' 零宽字符藏个彩蛋。‌​‌​‌​‌​‌​​‌​​‌​‌​‌​‌​​‌‌​​‌​‌​‌‌​‌​​‌​‌‌​‌​‌​​​‌‌​​‌​‌​‌‌​​‌‌‌‌‌​​‌‌‌​‌‌​‌‌​‌‌‌‌​​‌​‌​​‌​​​‌‌​​‌​‌‌​‌‌​‌​‌‌‌​​​‌​​‌​​‌‌‌​​​‌​‌​‌​‌​​‌​‌‌​​‌​​‌​‌​​​​‌‌‌‌‌​​‌‌‌​‌​‌​​‌​‌‌​‌​‌​​​‌‌​​‌​‌​‌​​‌​‌​‌‌​‌​​‌​‌‌​‌​‌​​​‌​‌​‌‌‌​‌​​‌‌​​​‌​‌​​‌‌​‌​​‌​​​‌‌​​‌​‌​​‌​​‌‌​​​‌​​‌‌​‌‌‌​‌‌‌​​​‌​​‌​‌‌‌‌​​‌​​‌‌‌​‌‌​‌‌​‌​‌‌​‌‌‌‌​‌‌​​​‌‌‌​​‌‌​​‌​‌​​‌​‌‌​‌​‌​​​‌​‌​‌​​‌‌‌​​‌‌‌‌‌​‌‌​‌‌​‌​‌‌‌​​​‌​‌​​‌​‌‌​​​​‌‌​‌​‌​​‌‌​‌​‌​‌​​​‌​​‌‌​‌‌‌​​​​‌‌​‌​‌​​‌‌​‌​‌​‌​​​‌‌​​‌​‌​‌​​‌​‌​‌‌​‌​​‌​‌‌​‌​‌‌​​‌​‌‌‌‌​‌‌​​​‌​​‌‌​‌​​‌​‌‌​​‌​‌‌​‌​‌‌‌‌​‌‌​​​‌​​‌‌​​‌‌‌​​‌‌​​‌‌​‌‌‌​​‌‌‌​‌​​‌​‌‌‌‌​​‌‌‌​‌‌​​‌​​​‌‌​‌​‌‌​‌‌​​‌​​​​‌​​‌‌​‌‌‌​‌​​‌‌‌‌​‌‌​​‌​‌​​​‌‌​​‌​‌‌​‌‌​‌​‌‌‌​​​‌‌​​‌‌‌​‌‌​​‌​‌​‌​‌‌​‌‌​‌​‌‌‌​​​‌​‌​‌‌​‌‌​​‌​​‌‌‌​​‌‌‌​​‌‌​​‌‌​‌‌​​‌​​‌‌‌​​​​‌‌​‌​‌​​‌​‌‌​‌​‌‌​​‌​‌‌‌‌​‌‌‌​​‌‌‌‌‌​​‌‌‌​‌‌​​​​‌‌​‌​‌‌‌‌​‌‌​​​‌‌​​‌​​‌‌‌​‌‌‌​​‌‌​​‌​‌​​‌​‌‌​​‌​​‌‌‌​‌‌​‌‌​‌​‌‌‌​​​‌​​‌​‌‌‌‌​​‌​​‌‌‌​​‌‌‌​​‌​​‌​‌‌​‌​‌‌‌‌​‌‌​​‌​​​​‌​‌​​‌‌​‌​‌​​‌‌‌‌​‌‌​​‌​‌​​‌‌​​​‌​‌​​‌​‌‌‌​​‌‌​​‌​‌‌​‌​‌‌​​​‌​​‌‌​​‌‌​‌‌‌‌​​‌‌​‌‌‌​​‌​‌‌‌​​‌‌​​​‌​​‌‌‌‌​‌​‌​‌​​​‌‌​​‌​‌​‌‌​​‌‌‌‌‌​‌​​‌​‌‌​‌​‌​​​‌‌​​‌​‌​‌​​​​‌​‌‌​‌​​‌​‌‌​‌​‌​​​‌​​​​‌‌‌‌‌​​‌​‌​‌​‌‌​​‌‌‌​‌‌‌‌​​‌​‌‌‌‌​‌‌​​‌​‌‌‌‌​​‌‌‌​‌‌​​‌​​‌​‌​‌​‌‌‌​‌​​‌‌​​​‌​​‌‌​‌‌‌​‌‌‌​​​‌​​‌​‌‌‌‌​​​‌‌‌‌‌​​‌‌‌​​‌​​​​‌‌​‌​‌‌‌‌​‌‌​​‌​​‌​‌​‌​​‌​‌‌​‌​‌​​​‌​‌​‌​​‌‌​​​‌‌​​‌​​‌‌‌‌​‌​‌​‌​​​‌‌​​‌​‌​‌​​‌​​​‌‌​‌‌​‌‌​‌​‌‌‌​​​‌‌​​​‌‌​‌​​‌​​‌​‌​‌‌​‌‌​‌​‌‌‌​​​‌​​​​‌‌‌‌​​​‌​​‌‌​​‌‌​‌‌‌​​‌​​‌​‌​‌​‌​‌​‌​​‌‌​​​‌​​‌‌‌​​‌‌​​‌‌​‌‌​‌​‌​​‌‌​​‌​​‌‌‌​​‌‌‌​‌‌​‌​​‌‌‌‌​‌‌​​‌​‌​​‌‌​​​‌​​‌‌​‌‌‌​‌‌‌​​​‌‌​​​‌‌‌‌​​‌‌​​​‌​‌​​‌‌​‌​​‌​​‌​‌​‌​‌​‌​‌​​‌‌​​​‌​‌​​‌‌​‌‌​​‌‌​‌‌‌​​​‌‌​‌​​​‌​‌​‌​​‌‌‌​​‌‌​​‌‌​​‌​‌​‌‌​‌‌​​‌​‌‌‌‌​​‌‌‌​‌‌​​‌​​​‌‌​‌​‌‌​‌‌​​​‌‌​​‌​​‌‌​‌​‌​‌​‌‌​​‌​‌‌‌‌​‌‌​​‌​​‌​‌​​‌‌‌​‌‌​‌‌‌​​​‌‌​​​‌‌​‌‌​​‌‌​​‌​​‌‌‌‌​‌​‌​‌​​​‌‌​​‌​‌​‌​​‌​​​‌‌​‌‌​‌‌​‌​‌‌‌​​​‌​‌​​‌​‌‌​​​​‌‌​‌​​‌‌‌​‌‌‌​​‌‌​‌‌‌​​‌‌‌‌‌​​‌‌​​​‌​​‌‌‌​‌‌​‌​​‌‌‌‌​​‌​‌​​‌​​‌‌​​​‌​​‌‌‌‌​‌​‌‌‌​​​‌​‌​‌​​‌‌​​‌​‌‌‌‌​​‌‌‌​​‌​​‌​​​‌‌​‌​‌‌‌​‌​​​‌‌​​‌​‌‌​‌‌​‌​‌‌​‌‌‌‌​‌‌​​​‌‌​​​‌​​​‌​​‌‌‌​​‌​​‌​​‌​‌​‌​‌​​‌‌​​‌​‌‌‌‌​‌​​‌​‌‌​‌‌‌​​​‌​​‌​​‌‌‌​​​‌​‌​‌​‌​​‌​‌‌​​​​‌‌​‌​‌‌‌‌​‌‌‌​​‌‌‌‌‌​​‌‌‌‌​‌​‌‌​‌‌‌‌​‌‌​‌​‌‌​​​‌​​‌‌​​‌‌​‌‌‌​‌​‌​​​‌​​‌‌​‌‌‌​​‌​​​​‌​​‌‌‌​‌‌‌​​‌‌​​‌​‌​‌​​‌‌‌​​‌‌‌‌‌​‌‌​‌‌​‌​‌‌‌​​​‌‌​​‌‌‌​‌‌​​‌​‌​‌​‌‌​‌‌​‌​‌‌‌​​​‌​‌​‌​​‌‌​​​‌​‌​‌​​‌‌​‌‌‌​‌‌‌​​​‌​​‌​​‌‌‌​​​​‌‌​‌​‌​​‌​‌‌​‌​‌‌​​‌​‌‌‌‌​‌‌​​‌​‌‌​‌​‌​​‌​‌‌​‌​‌​​​‌​​‌​​‌‌‌​​​‌​‌​‌​‌​​‌​‌‌​​​​‌‌​‌‌​​‌​‌‌‌‌​​​​‌​\n'))
export {zeroWidthEncrypt, xorEncrypt, base64Encrypt};